<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>testPromise</title>
</head>

<body>
    <script src='./MyPromise.js'></script>
    <script>
        // let Promise = MyPromise;
        // let p1 = new Promise((resolve, reject) => {
        //     console.log('I love you!')
        //     resolve(100)
        //     reject(200)
        //     // throw (400)
        // })
        // console.log(p1)
        // p1.then((resolve) => {
        //     console.log('success', resolve);
        // }, (reject) => {
        //     console.log('falied', reject);
        // })
        // p1.then(() => {
        //     console.log('success-1')
        // })
        // p1.then(() => {
        //     console.log('success-2')
        // })
        // let p2 = p1.then((resolve) => {
        //     return p2
        //     // console.log(resolve)
        // })
        // console.log(p2)

        // function p1() {
        //     return new Promise((resolve, reject) => {
        //         resolve('success-1')
        //     })
        // }

        // function p2() {
        //     return new Promise((resolve, reject) => {
        //         resolve('success-2')
        //     })
        // }

        // function p3() {
        //     return new Promise((resolve, reject) => {
        //         reject('failed-1')
        //     })
        // }


        // let xxx = Promise.all(['a', p1(), p2(), 'b'])
        // console.log(xxx)
        // let xxxx = Promise.race([p3(), 'a', p1(), 'b'])
        // console.log(xxxx)

        // let p5 = Promise.resolve('100');
        // console.log(p5)
        // let p6 = Promise.reject(p5);
        // console.log(p6)
        // let p7 = Promise.resolve(p6);
        // console.log(p7)
        // console.log(p7 === p6)
        function p1() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    reject('abc')
                }, 3000)
            })
        }
        // Promise.resolve(123).finally(p1).then(val => console.log(val), reason => console.log(reason))
        p1().catch(val => console.log(val))
    </script>
</body>

</html>